
<app-search-button (searchChange)="onSearchChange($event)"></app-search-button>
@if (search) {
  <div>
    <mat-chip-set aria-label="Sort By Location">
      @for (location of locations; track location) {
        <mat-chip
          selected="location.selected"
          matBadge="{{ location.locationCount }}"
          (click)="sortByName(location.name); toggleSelection(location)"
          [ngClass]="{ selected: location.selected }"
          >
          {{ location.name }}
        </mat-chip>
      }
    </mat-chip-set>
    <span>{{ count }}</span>
  </div>
}

<mat-list>
  <div fxLayout="column" fxLayout.gt-md="row wrap">
    @for (image of imageList; track image) {
      <div
        appUnderlineHover
        fxFlex.gt-md="0 1 calc(50%-10px)"
        >
        <!-- <h1 [appUnderlineHover] [matTooltip]="image.description" matTooltipPosition="above">
        {{ image.title }}
      </h1> -->
      <p appInvisible class="overlay">
        <!-- <mat-icon color="accent"
        >favorite
        <span matBadge="{{image.likes}}" matBadgeOverlap="true"></span></mat-icon
        > -->
        <button
          mat-raised-button
          [matMenuTriggerFor]="menu"
          aria-label="icon-button with menu options"
          >
          {{ image.title }}
          <mat-icon>share</mat-icon>
        </button>
        <mat-menu #menu="matMenu" yPosition="above">
          <button
            mat-menu-item
            (click)="Pexels()"
            aria-label="View more on Pexels"
            >
            <mat-icon>collections</mat-icon>Pexels
          </button>
          <button mat-menu-item (click)="Tip()">
            <mat-icon>paid</mat-icon>Tip
          </button>
        </mat-menu>
      </p>
      <img
        src="{{ image.src }}"
        (click)="openModal(image)"
        alt="Photo of {{ image.title }}"
        loading="lazy"
        />
      </div>
    }
  </div>
</mat-list>
